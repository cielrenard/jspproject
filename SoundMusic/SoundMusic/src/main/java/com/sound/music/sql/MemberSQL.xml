<?xml version="1.0" encoding="UTF-8"?>
<!-- xml파일이므로 무조건 xml선언
	사용 가능한 element, attribute 등을 정의방법
	1. dtd 문서
	2. 스키마문서 -->
<!DOCTYPE mapper PUBLIC 
				"-//mybatis.org//DTD Mapper 3.0//EN" 
				"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!-- 최상위 클래스는 mapper이다. -->
<!-- namespace 를 등록하는 이유 : 중복충돌을 막기위해
	여러개의 sql용 xml 파일이 만들어 지게 된다.
	나중에 DAO가 이 파일에 등록된 질의명령을 가지고 가야하고
	여러 개의 파일이 존재하므로 어떤 파일을 가져가야 할지 모르므로
	각각의 파일을 구분하기 위한 목적으로 등록을 해줘야 한다. -->
<mapper namespace="member">
	<!--  질의문 하나당 질의문 구분하기위한 태그가 필요
		태그이름은 질의문종류에 따라 구분해서 사용
		id는 질의명령을 구분하기위한 역할로서 unique 해야한다.	 -->
		
		<!-- map은 자바이고 RDBMS에 연결시키기위해 java.util.HashMap을 사용 -->
	<select id="LoginProc" parameterType="java.util.HashMap" resultType="java.util.HashMap">
	<!-- 참고
		parameter가 필요로 할때 ? 처리했는데 Spirng에서는 #{} 처리한다.
		이 때 적당한 값이란 개발자가 정하는 값이기는 하지만
		 JDBC를 이용할 때  ? 의 위치를 stmt.setString(1,id)의 방식이었지만
		 myBatis에서는 키값을 이용해서 입력하고 있다.
		 
		 결국 parameterType 속성을 이용해서 "?" 를 채울 데이터를 어떤방식으로 입력해줄지 알려줘야한다.
		 
		 1)?가 한 개라면 일반 자바데이터 형태로 지정
		  예) java.lang.Integer  또는 java.lang.String 으로 지정해주면 된다.
		 2) ?가 한 개 이상이라면 여러 개의 데이터를 한번에 묶어서 알려주어야 하므로
		 Map 방식을 이용하거나 VO를 이용해서 알려주면 된다.
		 
		 *질의문의 실행결과가 존재하면 결과가 어떤 방식으로 받을지 결정 해야 한다.
		 결과값이 하나의 컬럼인 경우에는 일반 자바 데이터형을 사용하면 된다.
		 
		 *결과값이 여러개의 컬럼인 경우에는 Map, VO 를 이용
		  
	 -->
	SELECT
		m_Id AS ID,
		m_Password AS PW,
		m_Nick	AS NICK
	FROM
		Member
	WHere
		m_Id = #{id}
		AND
		m_Password = #{pw}
	</select>
</mapper>
